import { ImageResponse } from '@vercel/og';
import { readFile } from 'fs/promises';
import { join } from 'path';

export const alt = 'Rank - 2026 Vision Board';
export const size = {
  width: 1200,
  height: 630,
};

export const contentType = 'image/png';

export default async function Image() {
  // Read the Dazzed Bold and Regular fonts from the file system
  // Using TTF format as WOFF2 may not be supported by @vercel/og
  const boldFontPath = join(process.cwd(), 'public', 'Dazzed', 'Dazzed-TRIAL-Bold.ttf');
  const regularFontPath = join(process.cwd(), 'public', 'Dazzed', 'Dazzed-TRIAL-Regular.ttf');
  const boldFontData = await readFile(boldFontPath);
  const regularFontData = await readFile(regularFontPath);

  return new ImageResponse(
    (
      <div
        style={{
          background: "#FAF5F0",
          width: "100%",
          height: "100%",
          display: "flex",
          flexDirection: "column",
          alignItems: "center",
          justifyContent: "center",
          padding: "80px",
        }}
      >
        <div
          style={{
            display: "flex",
            alignItems: "center",
            justifyContent: "center",
            marginBottom: "30px",
          }}
        >
          <svg
            width="120"
            height="35"
            viewBox="0 0 161 47"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M80.0626 42.1792H71.5606L64.5056 29.0305H59.6938V42.1792H51.7793V4.75781H67.0061C74.9206 4.75781 79.7858 9.35598 79.7858 16.8432C79.7858 22.2425 77.1104 26.36 72.4589 28.1225V28.1759L80.0626 42.1792ZM66.035 21.8152C69.8321 21.8152 71.8617 20.0478 71.8617 16.7898C71.8617 13.5317 69.9195 11.978 66.035 11.978H59.6743V21.8152H66.035Z"
              fill="#F77500"
            />
            <path
              d="M90.2637 25.3942C94.755 24.326 96.1437 23.5248 96.1437 22.0293C96.1437 20.3687 94.755 19.4073 92.2593 19.4073C89.3169 19.4073 87.4475 21.0145 86.86 23.9521L79.8535 22.4032C80.0308 21.0526 80.4829 19.7527 81.1818 18.5836C81.8808 17.4145 82.8119 16.4009 83.9176 15.6055C86.3402 13.8602 89.2699 12.961 92.2545 13.0466C99.3629 13.0466 103.854 17.1641 103.854 23.7919V42.1797H97.0031V38.674H96.8915C96.1777 40.422 93.9539 42.9857 89.4625 42.9857C83.8496 42.9857 80.1594 39.616 80.1594 34.4837C80.1594 29.7253 82.995 27.1616 90.2637 25.3942ZM96.4108 28.4969H96.3039C95.8184 29.3514 94.6482 30.0458 92.0845 30.7401C88.6614 31.6529 87.4864 32.5075 87.4864 34.003C87.4864 35.7121 88.6614 36.5716 90.958 36.5716C94.1675 36.5716 96.4108 34.9644 96.4108 32.6143V28.4969Z"
              fill="#F77500"
            />
            <path
              d="M106.062 13.848H113.346V16.3632H113.453C115.108 14.2753 118.104 13.0469 121.255 13.0469C124.407 13.0469 126.868 14.0617 128.743 16.0427C130.617 18.0238 131.627 20.6895 131.627 24.0592V42.1799H123.974V25.3944C123.974 22.0296 122.1 20.1019 118.842 20.1019C115.584 20.1019 113.71 22.1364 113.71 25.3944V42.1799H106.062V13.848Z"
              fill="#F77500"
            />
            <path
              d="M133.584 3.15625H141.232V24.5205H141.339L150.423 13.8384H160.134L149.943 25.1857L160.421 42.18H151.817L145.077 30.2597H144.971L141.232 34.6297V42.18H133.584V3.15625Z"
              fill="#F77500"
            />
            <path
              d="M0.00018282 29.6142V35.2271C-0.0128614 36.9947 0.672582 38.696 1.90741 39.9608C3.14223 41.2257 4.82655 41.9518 6.59395 41.9812C7.61707 41.984 8.62684 41.7491 9.54362 41.2949C10.4604 40.8407 11.2591 40.1797 11.8767 39.364C11.9131 39.3161 11.9636 39.2809 12.0211 39.2633C12.0786 39.2457 12.1401 39.2466 12.1971 39.2659C12.254 39.2853 12.3034 39.322 12.3383 39.371C12.3732 39.42 12.3918 39.4787 12.3914 39.5388V40.0244C12.3819 40.8928 12.5434 41.7547 12.867 42.5607C13.1905 43.3667 13.6696 44.1011 14.2769 44.722C15.5034 45.9758 17.1779 46.6911 18.9318 46.7104C20.6857 46.7297 22.3755 46.0515 23.6294 44.825C24.8832 43.5984 25.5985 41.924 25.6178 40.1701V39.5388C25.6175 39.4787 25.6361 39.42 25.6709 39.371C25.7058 39.322 25.7552 39.2853 25.8122 39.2659C25.8691 39.2466 25.9307 39.2457 25.9882 39.2633C26.0457 39.2809 26.0961 39.3161 26.1325 39.364C26.7504 40.1794 27.5491 40.8402 28.4659 41.2944C29.3826 41.7485 30.3922 41.9836 31.4153 41.9812C33.1827 41.9518 34.867 41.2257 36.1018 39.9608C37.3367 38.696 38.0221 36.9947 38.009 35.2271V29.6142C38.0092 28.3514 37.6475 27.1151 36.9668 26.0515C36.2861 24.9879 35.315 24.1416 34.1684 23.6128C34.1189 23.5897 34.077 23.5531 34.0476 23.507C34.0182 23.461 34.0027 23.4076 34.0027 23.353C34.0027 23.2984 34.0182 23.2449 34.0476 23.1989C34.077 23.1529 34.1189 23.1162 34.1684 23.0932C35.315 22.5657 36.2863 21.7204 36.967 20.6575C37.6478 19.5946 38.0094 18.3588 38.009 17.0967V11.4837C38.0234 9.7157 37.3383 8.01371 36.1032 6.7486C34.8681 5.48349 33.1831 4.7578 31.4153 4.72967C30.3924 4.72514 29.3825 4.95884 28.4655 5.41225C27.5486 5.86566 26.7498 6.52633 26.1325 7.34194C26.0964 7.38951 26.0463 7.42462 25.9893 7.44235C25.9323 7.46007 25.8712 7.45954 25.8144 7.44082C25.7577 7.42209 25.7083 7.38612 25.673 7.33792C25.6378 7.28972 25.6185 7.23171 25.6178 7.17199V6.68644C25.6371 4.93251 24.9589 3.24274 23.7324 1.98887C23.125 1.36801 22.4014 0.872855 21.6027 0.531674C20.804 0.190493 19.9459 0.00996611 19.0775 0.000401584C17.3235 -0.0189148 15.6338 0.659307 14.3799 1.88586C13.126 3.11242 12.4107 4.78684 12.3914 6.54078V7.17199C12.3908 7.23171 12.3714 7.28972 12.3362 7.33792C12.3009 7.38612 12.2515 7.42209 12.1948 7.44082C12.1381 7.45954 12.0769 7.46007 12.0199 7.44235C11.9629 7.42462 11.9128 7.38951 11.8767 7.34194C11.2596 6.52605 10.4609 5.86517 9.54394 5.41173C8.62695 4.95829 7.61692 4.72476 6.59395 4.72967C4.82655 4.75906 3.14223 5.48515 1.90741 6.74998C0.672582 8.01482 -0.0128614 9.71608 0.00018282 11.4837V17.0967C-0.000181194 18.3588 0.361455 19.5946 1.0422 20.6575C1.72295 21.7204 2.69424 22.5657 3.84088 23.0932C3.89038 23.1162 3.93228 23.1529 3.96163 23.1989C3.99099 23.2449 4.00658 23.2984 4.00658 23.353C4.00658 23.4076 3.99099 23.461 3.96163 23.507C3.93228 23.5531 3.89038 23.5897 3.84088 23.6128C2.69422 24.1416 1.72309 24.9879 1.04242 26.0515C0.361764 27.1151 7.96032e-05 28.3514 0.00018282 29.6142ZM13.2217 17.0967V16.4752C13.2214 16.415 13.24 16.3563 13.2748 16.3073C13.3097 16.2584 13.3591 16.2216 13.4161 16.2023C13.473 16.1829 13.5346 16.182 13.5921 16.1996C13.6496 16.2172 13.7001 16.2525 13.7364 16.3004C14.3532 17.1132 15.1498 17.7723 16.0637 18.2261C16.9777 18.6799 17.9842 18.916 19.0046 18.916C20.025 18.916 21.0316 18.6799 21.9455 18.2261C22.8595 17.7723 23.656 17.1132 24.2728 16.3004C24.3092 16.2525 24.3597 16.2172 24.4172 16.1996C24.4747 16.182 24.5362 16.1829 24.5932 16.2023C24.6501 16.2216 24.6995 16.2584 24.7344 16.3073C24.7693 16.3563 24.7879 16.415 24.7875 16.4752V17.0967C24.7889 18.361 25.1534 19.5983 25.8377 20.6613C26.522 21.7244 27.4974 22.5685 28.6476 23.0932C28.6971 23.1162 28.739 23.1529 28.7684 23.1989C28.7977 23.2449 28.8133 23.2984 28.8133 23.353C28.8133 23.4076 28.7977 23.461 28.7684 23.507C28.739 23.5531 28.6971 23.5897 28.6476 23.6128C27.501 24.1416 26.5298 24.9879 25.8492 26.0515C25.1685 27.1151 24.8068 28.3514 24.8069 29.6142V30.2357C24.8073 30.2958 24.7887 30.3545 24.7538 30.4035C24.7189 30.4525 24.6695 30.4892 24.6126 30.5086C24.5557 30.5279 24.4941 30.5288 24.4366 30.5112C24.3791 30.4936 24.3286 30.4584 24.2923 30.4105C23.6754 29.5976 22.8789 28.9385 21.965 28.4847C21.051 28.0309 20.0444 27.7948 19.024 27.7948C18.0036 27.7948 16.9971 28.0309 16.0831 28.4847C15.1692 28.9385 14.3726 29.5976 13.7558 30.4105C13.7195 30.4584 13.669 30.4936 13.6115 30.5112C13.554 30.5288 13.4924 30.5279 13.4355 30.5086C13.3785 30.4892 13.3291 30.4525 13.2943 30.4035C13.2594 30.3545 13.2408 30.2958 13.2411 30.2357V29.6142C13.2412 28.3514 12.8796 27.1151 12.1989 26.0515C11.5182 24.9879 10.5471 24.1416 9.40043 23.6128C9.35094 23.5897 9.30904 23.5531 9.27969 23.507C9.25033 23.461 9.23474 23.4076 9.23474 23.353C9.23474 23.2984 9.25033 23.2449 9.27969 23.1989C9.30904 23.1529 9.35094 23.1162 9.40043 23.0932C10.5434 22.5629 11.5107 21.7163 12.1879 20.6537C12.865 19.591 13.2238 18.3567 13.2217 17.0967Z"
              fill="#F77500"
            />
          </svg>
        </div>
        <div
          style={{
            fontSize: "72px",
            fontWeight: 700,
            fontFamily: "Dazzed",
            color: "#1A1310",
            textAlign: "center",
            marginBottom: "30px",
            lineHeight: "1.1",
          }}
        >
          Create Your 2026 Vision Board
        </div>
        <div
          style={{
            fontSize: "28px",
            fontWeight: 400,
            fontFamily: "Dazzed",
            color: "#4A4441",
            textAlign: "center",
            maxWidth: "800px",
          }}
        >
          Simply type in your goals below. We will instantly transform them into
          a stunning image to keep you focused all year.
        </div>
      </div>
    ),
    {
      ...size,
      fonts: [
        {
          name: "Dazzed",
          data: boldFontData,
          style: "normal",
          weight: 700,
        },
        {
          name: "Dazzed",
          data: regularFontData,
          style: "normal",
          weight: 400,
        },
      ],
    }
  );
}

